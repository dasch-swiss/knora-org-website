<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction: Using API V2 &#8212; Knora 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Knora IRIs" href="knora-iris.html" />
    <link rel="prev" title="Using API V2" href="index.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../../index.html">Knora 0.1 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="index.html" title="Using API V2"
             accesskey="P">previous</a> |
          <a href="knora-iris.html" title="Knora IRIs"
             accesskey="N">next</a> |
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction-using-api-v2">
<h1>Introduction: Using API V2<a class="headerlink" href="#introduction-using-api-v2" title="Permalink to this headline">¶</a></h1>
<p>Version 2 of the Knora API aims to make both the response and request formats more generic and consistent. Version 1 was basically the result of the reimplementation of the existing API of the SALSAH prototype. Since the development of this prototype has a long history and the specification of API V1 was an evolving process, V1 has various inconsistencies and peculiarities. With V2, we would like to offer a format that is consistent and hence easier to use for a client.</p>
<p>Please note that V2 is still in development. We do not yet recommend using it on productive systems.</p>
<div class="section" id="different-api-operations">
<h2>Different API Operations<a class="headerlink" href="#different-api-operations" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>In the following sections, the available V2 API operations are described:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="knora-iris.html#knora-iris-v2"><span class="std std-ref">Knora IRIs</span></a>: Information about conventions applied to create Knora IRIs.</li>
<li><a class="reference internal" href="ontology-information.html#querying-and-creating-ontologies-v2"><span class="std std-ref">Querying, Creating, and Updating Ontologies</span></a>: Information about how to query, create, or modify ontologies.</li>
<li><a class="reference internal" href="reading-and-searching-resources.html#reading-and-searching-resources-v2"><span class="std std-ref">Reading and Searching Resources</span></a>: Get a resource by its IRI or search for resources by providing search criteria.</li>
<li><a class="reference internal" href="knarql-syntax.html#knarql-syntax-v2"><span class="std std-ref">KnarQL: Knora Query Language</span></a>: Information about using the Knora Query Language KnarQL to perform an extended search.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="json-ld">
<h2>JSON-LD<a class="headerlink" href="#json-ld" title="Permalink to this headline">¶</a></h2>
<p>Our preferred format for data exchange is <a class="reference external" href="https://json-ld.org/spec/latest/json-ld/">JSON-LD</a>. JSON-LD allows the Knora API server to provide responses that are relatively easy for automated processes to interpret, since their structure and semantics is explicitly defined. For example, each project-specific Knora resource property is identified by an IRI, which can be dereferenced to get more information about it (e.g. its label in different languages). Moreover, each value has a type represented by an IRI. These are either standard RDF types (e.g. XSD datatypes) or more complex types whose IRIs can be dereferenced to get more information about their structure.</p>
<p>At the same time, JSON-LD responses are relatively easy for software developers to work with. Items in a response can have human-readable names, which can nevertheless be expanded to full IRIs. Also, while a format such as <a class="reference external" href="https://www.w3.org/TR/turtle/">Turtle</a> just provides a set of RDF triples, an equivalent JSON-LD response can explicitly provide data in a hierarchical structure, with objects nested inside other objects.</p>
<p>We designed the V2 routes in a way that would also allow for the usage of other formats such as XML. We plan to implement support for XML once the implementation of JSON-LD is completed. The client will be able to use content negotiation to specify the preferred exchange format.</p>
</div>
<div class="section" id="support-of-schema-org-entities">
<h2>Support of schema.org Entities<a class="headerlink" href="#support-of-schema-org-entities" title="Permalink to this headline">¶</a></h2>
<p>In our API responses (e.g., <code class="docutils literal"><span class="pre">ResourcesSequence</span></code>, see <a class="reference internal" href="response-formats.html#response-formats-v2"><span class="std std-ref">V2 Response Formats</span></a>), we use entities defined in <a class="reference external" href="http://www.schema.org">schema.org</a>.</p>
<p>Our intent is that any client familiar with <a class="reference external" href="http://www.schema.org">schema.org</a> should be able to understand our response format.</p>
<p>A resource&#8217;s <code class="docutils literal"><span class="pre">rdfs:label</span></code> is represented as a <code class="docutils literal"><span class="pre">http://schema.org/name</span></code> although they might not be equivalent in a strict sense (see <a class="reference external" href="https://github.com/schemaorg/schemaorg/issues/1762">label_name</a>).</p>
<p>Likewise, <code class="docutils literal"><span class="pre">knora-api:Resource</span></code> is declared to be a subclass of <code class="docutils literal"><span class="pre">http://schema.org/Thing</span></code> (see <a class="reference external" href="https://lists.w3.org/Archives/Public/public-schemaorg/2017Mar/0087.html">resource_thing</a>), so we can use a <code class="docutils literal"><span class="pre">knora-api:Resource</span></code> or any of its subclasses where <code class="docutils literal"><span class="pre">http://schema.org</span></code> requires a <code class="docutils literal"><span class="pre">http://schema.org/Thing</span></code>.</p>
</div>
<div class="section" id="api-schema">
<h2>API Schema<a class="headerlink" href="#api-schema" title="Permalink to this headline">¶</a></h2>
<p>Knora API V2 offers the query and response format in a complex schema and a simple one. The main difference is that the complex schema exposes the complexity of value objects, while the simple version does not. A client that needs to edit values must use the complex schema in order to obtain the IRI of each value. A client that reads but does not update data can use the simplified schema.</p>
<p>In either case, the client deals only with data whose structure and semantics are defined by Knora API ontologies, which are distinct from the ontologies that are used to store date in the triplestore. The Knora API server automatically converts back and forth between these internal and external representations. This approach encapsulates the internals and adds a layer of abstraction to them. The client will be able to use content negotiation to specify its preferred exchange format. For more information, see <a class="reference internal" href="ontology-information.html#querying-and-creating-ontologies-v2"><span class="std std-ref">Querying, Creating, and Updating Ontologies</span></a>.</p>
</div>
<div class="section" id="knora-iris">
<h2>Knora IRIs<a class="headerlink" href="#knora-iris" title="Permalink to this headline">¶</a></h2>
<p>Resources and entities are identified by IRIs. The format of these IRIs is explained in <a class="reference internal" href="knora-iris.html#knora-iris-v2"><span class="std std-ref">Knora IRIs</span></a>.</p>
</div>
<div class="section" id="v2-path-segment">
<h2>V2 Path Segment<a class="headerlink" href="#v2-path-segment" title="Permalink to this headline">¶</a></h2>
<p>Every request to API V1 includes <code class="docutils literal"><span class="pre">v2</span></code> as a path segment, e.g. <code class="docutils literal"><span class="pre">http://host/v2/resources/http%3A%2F%2Fdata.knora.org%2Fc5058f3a</span></code>.
Accordingly, requests using any other version of the API will require another path segment.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../knora-ontologies/index.html">The Knora Ontologies</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">The Knora API Server</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../deployment/index.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../design-documentation/index.html">Knora API Server Design Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development/index.html">Developing the Knora API Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api_v1/index.html">Using API V1</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Using API V2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../salsah/index.html">SALSAH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sipi/index.html">Sipi</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="index.html" title="Using API V2"
              >previous</a> |
            <a href="knora-iris.html" title="Knora IRIs"
              >next</a> |
            <a href="../../../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../../../_sources/rst/knora-api-server/api_v2/api-general.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Lukas Rosenthaler, Benjamin Geer, Ivan Subotic, Tobias Schweizer, André Kilchenmann, and Sepideh Alassi.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>